#HTTP权威指南读书笔记

##第二章 URL和资源

###2.1 浏览因特网资源
URL是因特网资源的标准化名称，统一资源命名方式。   
URL结构： "方案：//服务器位置/资源路径"
* http://mailto:name@abc.com    (Email帐户)
* ftp://abc.com/a.doc           (word文件)
* rtsp://a.com:554/video        (流媒体)


###2.2 URL语法
secheme://user:password@host:port/path;params?query#frag   
* secheme      - 方案       - 获取资源用哪种方案
* user         - 用户       - 用户名
* password     - 密码       - 密码
* host         - 主机       - 域名或IP地址
* port         - 端口号     - 很多方案有默认端口号(http为80)
* path         - 路径       - 资源服务器上的本地路径
* params       - 参数       - 一些方案会用这这个组件指定输入参数
* query        - 查询       - 如?id=1
* frag         - 片段       - 一部分的资源名称，在客服端使用，如#top

###2.2.1 方案————使用什么协议
告诉服务器用什么协协议解析URL，方案不区分大小写。

###2.2.2 主机和端口
告诉服务器哪台服务器，什么地方找资源。http协议的默认端口号为80

###2.2.3 用户和密码
要求用户名和密码才充许访问资源，如FTP服务器。

###2.2.4 路径
路径说明资源位于服务器什么地方，如/file/index.html

###2.2.5 参数
提供更多的参数来访问资源，如图片有二进制形式和文本形式传输。
如: ftp://abc.com/pub/index.html;type=1

###2.2.6 查询
通过提问来缩小请求资源,如帮助查询数据库
如：http://abc.com/index.html?name=ligang&city=hangzhou

###2.2.7 片段
frag表示一个资源内部的其中一部分，服务器只处理整个对象，片段由客户端使用。

###2.3 URL快捷方式
* 绝对路径 - http://abc.com/index.html
* 相对路径 - /index.html (方便移植)

###2.3.1 相对路径
* 相对路径方便移植
* 相对路转换处理第一步即找到基础URL，如:<base href="http://abc.com/" />

###2.3.2 自动扩展URL
如浏览器只要输入部分URL，会自动扩展完整的URL
* 主机名扩展 yahoo -> www.yahoo.com
* 历史扩展 http://www.jose- -> http://www.jose-hardware.com

###2.4 各种令人头痛的字符
设计者希望URL是可移植的，安全传输，并供人类阅读。

###2.4.1 URL字符集
URL使用US-ASCII字符集，通过转义序列实现URL可移植性和完整性

###2.4.2 编码机制

不安全的的字符，通过转义来表现。转义语法 %后面跟两上16进制的ASCII码值
```
~                  -  %7E 
空格               -  %20
%                  -  %25
```

###2.4.3 字符限制

```
%                  -    保留 - 转义标志
/                  -    保留 - 路径中使用
.                  -    保留 - 路径中使用
..                 -    保留 - 路径中使用
#                  -    保留 - 片段中使用
？                 -    保留 - 查询中使用
;                  -    保留 - 参数中使用
:                  -    保留 - 方案、用户、密码、端口号中使用
$,+                -    保留
{}|\^~[]`          -    受限 - 不安全
<>"                -    受限 - 不安全
0x00-0x1F,0x7F     -    受限 - 不可打印
>0x7F              -    受限 - 不在ASCII字符集的7比特范围
```

###2.4.4 另外一点说明(略)

###2.5 方案的世界

```
http               -    超文本传输协议，默认80端口
https              -    使用网景的ssl，http连接提供端对端加密，默认端口443
mailto             -    E-mail地址
ftp                -    文件传输协议
rtsp,rtspu         -    实时流传输协议
file               -    指定主机访问文件
news               -    访问特定文章或新闻组
telnet             -    访问交互式业务，可访问应用程序
```

###2.6 未来展望(略)
###2.7 更多信息(略)